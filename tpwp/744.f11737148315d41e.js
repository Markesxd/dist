"use strict";(self.webpackChunktpwp=self.webpackChunktpwp||[]).push([[744],{1744:(C,l,t)=>{t.r(l),t.d(l,{LoginComponent:()=>v});var g=t(6814),i=t(95),d=t(6306),m=t(9775),n=t(9468),u=t(8399),c=t(4408);function p(e,s){1&e&&(n.TgZ(0,"div",11),n._uU(1,"Email e/ou Senha Inv\xe1lidos!"),n.qZA())}function _(e,s){1&e&&(n.TgZ(0,"div",11),n._uU(1,"Erro no Servidor"),n.qZA())}function f(e,s){1&e&&(n.TgZ(0,"span",12),n._uU(1,"Preencha o Email"),n.qZA())}function h(e,s){1&e&&(n.TgZ(0,"span",12),n._uU(1,"Email Inv\xe1lido"),n.qZA())}function E(e,s){1&e&&(n.TgZ(0,"span",12),n._uU(1,"Preecha a Senha"),n.qZA())}let v=(()=>{class e{constructor(o,a,r){this.fb=o,this.authService=a,this.router=r,this.loginFailed=!1,this.serviceFailed=!1,this.editForm=this.fb.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required]]})}get emailErrors(){const o=this.editForm.get("email");return o?.touched?o.errors:null}get isPasswordValid(){const o=this.editForm.get("password");return!(!o||o.dirty&&null!==o.errors)}onSubmit(){const o=new m.n;o.createFromForm(this.editForm),o.username=o.email,this.authService.login(o).pipe((0,d.K)(a=>{throw 401===a.status?this.loginFailed=!0:this.serviceFailed=!0,a})).subscribe(()=>{this.router.navigate(["food"])})}static#n=this.\u0275fac=function(a){return new(a||e)(n.Y36(i.qu),n.Y36(u.e),n.Y36(c.F0))};static#o=this.\u0275cmp=n.Xpm({type:e,selectors:[["login"]],standalone:!0,features:[n.jDz],decls:20,vars:7,consts:[[1,"login-wrapper"],[1,"login-body",3,"formGroup","ngSubmit"],["src","../../../assets/icon-512x512.png","alt","logo",1,"login-logo"],["class","login-fail",4,"ngIf"],["for","email"],["class","login-error",4,"ngIf"],["type","email","id","Email","name","email","formControlName","email"],["for","password"],["type","password","id","password","name","password","formControlName","password"],["type","submit",1,"login-button",3,"disabled"],["href","/register",1,"login-anchor"],[1,"login-fail"],[1,"login-error"]],template:function(a,r){1&a&&(n.TgZ(0,"div",0)(1,"form",1),n.NdJ("ngSubmit",function(){return r.onSubmit()}),n._UZ(2,"img",2),n.YNc(3,p,2,0,"div",3),n.YNc(4,_,2,0,"div",3),n.TgZ(5,"div")(6,"label",4),n._uU(7,"Email"),n.qZA(),n.YNc(8,f,2,0,"span",5),n.YNc(9,h,2,0,"span",5),n.qZA(),n._UZ(10,"input",6),n.TgZ(11,"div")(12,"label",7),n._uU(13,"Senha"),n.qZA(),n.YNc(14,E,2,0,"span",5),n.qZA(),n._UZ(15,"input",8),n.TgZ(16,"button",9),n._uU(17,"Entrar"),n.qZA(),n.TgZ(18,"a",10),n._uU(19,"Cadastro"),n.qZA()()()),2&a&&(n.xp6(1),n.Q6J("formGroup",r.editForm),n.xp6(2),n.Q6J("ngIf",r.loginFailed),n.xp6(1),n.Q6J("ngIf",r.serviceFailed),n.xp6(4),n.Q6J("ngIf",r.emailErrors&&r.emailErrors.required),n.xp6(1),n.Q6J("ngIf",r.emailErrors&&r.emailErrors.email),n.xp6(5),n.Q6J("ngIf",!r.isPasswordValid),n.xp6(2),n.Q6J("disabled",!r.editForm.valid))},dependencies:[g.ez,g.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".login-wrapper[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;background:#f1f1f1;display:flex;align-items:center;justify-content:center}.login-logo[_ngcontent-%COMP%]{width:5rem;align-self:center}.login-body[_ngcontent-%COMP%]{background:#ffffff;border-radius:.5rem;padding:2rem;display:flex;flex-direction:column}.login-body[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:1rem}.login-error[_ngcontent-%COMP%]{font-size:.7rem;color:red;float:right}.login-fail[_ngcontent-%COMP%]{color:red;text-align:center;padding:.5rem;margin:.5rem 0;border:1px solid red;border-radius:8px}.login-anchor[_ngcontent-%COMP%]{color:#000a;align-self:center;margin-top:.5rem}.login-button[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;background:var(--primary-color);color:#000;transition:.3s}.login-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active{background:var(--secondary-color)}"]})}return e})()}}]);